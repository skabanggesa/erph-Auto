<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Papan Pemuka Guru - Penjanaan RPH</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* CSS ringkas untuk demo, jika style.css tiada */
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #f4f4f9; }
        .container { max-width: 1200px; margin: 20px auto; padding: 20px; background-color: #fff; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        .navbar { display: flex; justify-content: space-between; align-items: center; padding-bottom: 10px; border-bottom: 2px solid #ccc; margin-bottom: 20px; }
        .btn { padding: 8px 15px; border: none; cursor: pointer; border-radius: 4px; transition: background-color 0.3s; }
        .btn-primary { background-color: #007bff; color: white; }
        .btn-danger { background-color: #dc3545; color: white; }
        .btn-secondary { background-color: #6c757d; color: white; }
        .btn-tab { background-color: #e9ecef; color: #495057; }
        .btn-tab.active { background-color: #007bff; color: white; }
        .btn:hover { opacity: 0.9; }
        .mt-1 { margin-top: 10px; }
        .mt-2 { margin-top: 20px; }
        .mt-3 { margin-top: 30px; }
        .hidden { display: none !important; }
        .card { border: 1px solid #ddd; padding: 15px; border-radius: 6px; margin-bottom: 15px; background-color: #f8f9fa; }
        input[type="date"], input[type="time"], input[type="text"], textarea { width: 100%; padding: 8px; margin-top: 5px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }
        .notification-alert { padding: 10px; border-radius: 4px; margin-bottom: 15px; display: none; }
        .alert-info { background-color: #d1ecf1; color: #0c5460; border-color: #bee5eb; }
        .alert-error { background-color: #f8d7da; color: #721c24; border-color: #f5c6cb; }
        .alert-success { background-color: #d4edda; color: #155724; border-color: #c3e6cb; }
        
        /* Gaya untuk Jadual Waktu */
        .day-section h4 { border-bottom: 1px solid #dee2e6; padding-bottom: 5px; margin-top: 0; }
        .slot-group { display: flex; gap: 10px; align-items: center; margin-bottom: 5px; }
        .slot-group input { margin-bottom: 0; }
        .slot-group input[name="time"] { flex: 0.5; max-width: 100px; }
        .slot-group input[name="subject"] { flex: 1.5; }
        .slot-group input[name="class"] { flex: 1; max-width: 100px; }
        .slot-group input[name="standards"] { flex: 2; }
        .slot-group .btn-remove-slot { flex-shrink: 0; padding: 5px 10px; }

        .rph-slot-group textarea[readonly] { background-color: #e9ecef; }
        .rph-slot-group textarea { height: auto; min-height: 50px; }
    </style>
</head>
<body>
    <div class="container">
        <header class="navbar">
            <h1>Selamat Datang, <span id="user-name">Guru</span>!</h1>
            <nav>
                <button class="btn btn-tab active" data-tab="rph-tab">Jana & Semak RPH</button> 
                <button class="btn btn-tab" data-tab="timetable-tab">Urus Jadual Waktu</button>
                <button id="logout-btn" class="btn btn-danger">Log Keluar</button>
            </nav>
        </header>

        <div id="rph-tab" class="tab-content active">
            <h2>üìù Penjanaan RPH Automatik</h2>
            <div class="card card-rph-input">
                <label for="rph-date">Pilih Tarikh RPH:</label>
                <input type="date" id="rph-date" required>
                <button id="generate-rph-btn" class="btn btn-primary mt-1">Jana RPH</button>
            </div>

            <div id="rph-editor-section" class="card mt-2 hidden">
                <h3>Sunting RPH</h3>
                <form id="rph-form">
                    <div id="rph-slots-editor">
                        <p>Slot RPH dimuatkan di sini...</p>
                    </div>

                    <div class="mt-3">
                        <button type="submit" id="save-rph-btn" class="btn btn-secondary">Simpan Draf</button>
                        <button type="button" id="submit-rph-btn" class="btn btn-primary">Hantar ke Pentadbir</button>
                        <input type="hidden" id="rph-document-id">
                    </div>
                </form>
            </div>

            <h3 class="mt-3">Senarai RPH Saya</h3>
            <table id="teacher-rph-list" class="data-table">
                <thead>
                    <tr>
                        <th>Tarikh</th>
                        <th>Hari</th>
                        <th>Status</th>
                        <th>Tindakan</th>
                    </tr>
                </thead>
                <tbody>
                    </tbody>
            </table>
        </div>

        <div id="timetable-tab" class="tab-content hidden">
            <h2>üìÖ Urus Data Jadual Waktu</h2>
            <p>Masukkan Jadual Waktu anda (Masa, Subjek, Kelas) untuk membolehkan penjanaan RPH automatik.</p> 
            <div id="timetable-input-form" class="card">
                <p>Memuatkan borang Jadual Waktu...</p>
            </div>
            <button id="save-timetable-btn" class="btn btn-primary mt-3">Simpan Jadual Waktu</button>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

    <script>
        // =======================================================
        // GANTIKAN DENGAN KONFIGURASI FIREBASE ANDA SENDIRI!
        // Anda boleh mendapatkan ini dari konsol projek Firebase anda.
        // =======================================================
        const firebaseConfig = {
            apiKey: "AIzaSyAo-FyVocjOa8rD-ALoTeDdkJCqDyvQSt0", 
            authDomain: "erph-auto.firebaseapp.com",
            projectId: "erph-auto",
            storageBucket: "erph-auto.firebasestorage.app",
            messagingSenderId: "28301521058",
            appId: "1:28301521058:web:47cd64e3cf098e2cb067fb"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
    </script>

    <script src="js/ui_utils.js"></script>
    <script src="js/guru_rph_logic.js"></script>
</body>
</html>

